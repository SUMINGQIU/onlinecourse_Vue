"use strict";(self["webpackChunkonlinelearning"]=self["webpackChunkonlinelearning"]||[]).push([[586],{5788:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(6252);const o={class:"post-video"},s=(0,a._)("h2",null,"欢迎投稿： ",-1),i=["src"],r={key:1,class:"el-icon-plus avatar-uploader-icon"},n=(0,a._)("div",{class:"el-upload__tip"},"只能上传png和jpg文件，大小不超过2MB",-1),d=["src"];function u(e,t,l,u,m,p){const f=(0,a.up)("el-input"),c=(0,a.up)("el-form-item"),h=(0,a.up)("el-upload"),g=(0,a.up)("el-dialog"),w=(0,a.up)("el-button"),v=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",o,[s,(0,a.Wm)(v,{ref:"form",model:m.form,"label-width":"80px"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"标题"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:m.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>m.form.title=e),style:{width:"600px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{label:"视频地址"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"url ",modelValue:m.form.url,"onUpdate:modelValue":t[1]||(t[1]=e=>m.form.url=e),style:{width:"600px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{label:"描述"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"textarea",modelValue:m.form.info,"onUpdate:modelValue":t[2]||(t[2]=e=>m.form.info=e),style:{width:"600px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{label:"视频封面"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"avatar-uploader",label:"描述",action:"",ref:"upload","on-preview":p.handlePictureCardPreview,"on-success":p.handleAvatarSuccess,"before-upload":p.fnBeforeUpload,"http-request":p.fnUploadRequest,"show-file-list":!1},{tip:(0,a.w5)((()=>[n])),default:(0,a.w5)((()=>[m.imageUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,src:m.imageUrl,class:"avatar"},null,8,i)):((0,a.wg)(),(0,a.iD)("i",r))])),_:1},8,["on-preview","on-success","before-upload","http-request"])])),_:1}),(0,a.Wm)(g,{visible:m.dialogVisible,"onUpdate:visible":t[3]||(t[3]=e=>m.dialogVisible=e)},{default:(0,a.w5)((()=>[(0,a._)("img",{width:"100%",src:m.dialogImageUrl,alt:""},null,8,d)])),_:1},8,["visible"]),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{type:"primary",onClick:p.OnSubmit},{default:(0,a.w5)((()=>[(0,a.Uk)("立即创建")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])}var m=l(7080),p=l(6154);const f=e=>p.Z.post("/api/v1/upload/token",{filename:e}).then((e=>e.data));var c=f,h={name:"PostVideo ",data(){return{imageUrl:"",dialogImageUrl:"",dialogVisible:!1,form:{title:"",info:"",url:"",avatar:""}}},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},fnBeforeUpload(e){const t="image/png"===e.type||"image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("只能接受PNG格式！"),l||this.$message.error("上传图片不能超过 2MB！"),t&&l},fnUploadRequest(e){c(e.file.name).then((t=>{const l=new XMLHttpRequest;l.open("PUT",t.data.put,!0),l.withCredentials=!0,l.send(e.file),l.onload=()=>{this.imageUrl=t.data.get,this.form.avatar=t.data.key}})).catch((e=>{this.$notify.error({title:"网络错误，或者服务器宕机",message:e})}))},OnSubmit(){m.At(this.form).then((e=>{e.code>0?this.$notify.error({title:"投稿失败",message:e.msg}):this.$notify({title:"投稿成功",message:`您的投稿ID为${e.data.id}`,type:"success"})})).catch((e=>{this.$notify.error({title:"404 Not found",message:e})}))},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}},components:{}},g=l(3744);const w=(0,g.Z)(h,[["render",u]]);var v=w},1177:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var a=l(6252);const o={class:"registerUser"},s=(0,a._)("h2",null,"欢迎登录 ",-1);function i(e,t,l,i,r,n){const d=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),m=(0,a.up)("el-button"),p=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",o,[s,(0,a.Wm)(p,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"用户名"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:r.form.user_name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.user_name=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"用户密码"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:r.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.password=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"primary",onClick:n.OnSubmit},{default:(0,a.w5)((()=>[(0,a.Uk)("登录")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])}var r=l(6154);const n=e=>r.Z.post("/api/v1/user/login",e).then((e=>e.data));var d={name:"RegisterUser",data(){return{form:{user_name:"",password:""}}},methods:{OnSubmit(){n(this.form).then((e=>{0!=e.status?this.$notify.error({title:"登录失败",message:e.msg}):this.$notify({title:"登录成功",type:"success"})})).catch((e=>{this.$notify.error({title:"404 Not found",message:e})}))}},components:{}},u=l(3744);const m=(0,u.Z)(d,[["render",i]]);var p=m},4183:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var a=l(6252);const o={class:"post-video"};function s(e,t,l,s,i,r){const n=(0,a.up)("video-player"),d=(0,a.up)("el-col"),u=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(u,{gutter:20},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{span:16},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{controls:"",class:"video-player-box",options:e.playerOptions,loop:!0,volume:.4},null,8,["options"])])),_:1})])),_:1})])}var i=l(2473),r=l(7080),n=(0,a.aZ)({name:"ShowVideo",data(){return{video:{},playerOptions:{playbackRates:[.7,1,1.5,2],fluid:!0,sources:[{type:"video/mp4",src:"https://dash.akamaized.net/dash264/TestCasesIOP33/adapatationSetSwitching/5/manifest.mpd"}],poster:"https://th.bing.com/th/id/OIP.sOM4UHjx7bd74gvsy2gRvQHaHa?pid=ImgDet&rs=1"}}},methods:{load(){r.om(this.$route.params.videoID).then((e=>{this.video=e.data;const t=this.video.URL;console.log("the url is: "+t),this.playerOptions.sources[0].src=t.trim()}))}},components:{VideoPlayer:i.Y7},beforeMount(){this.load()}}),d=l(3744);const u=(0,d.Z)(n,[["render",s]]);var m=u}}]);
//# sourceMappingURL=postvideo.a5b53abf.js.map